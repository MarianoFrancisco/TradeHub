<app-nav></app-nav>
<h1 align="center" style="color:#ff5500;">MIS PUBLICACIONES</h1>
<div class="button-container">
    <input type="submit" (click)="getPublicationUser(user().id)" name="login" value="VER TODOS
     LOS PRODUCTOS" class="inBtn" style="background-color:#00ffdd;">
    <input type="submit" (click)="getPublicationUserFilter(user().id, 2)" name="login" value="FILTRAR PRODUCTOS
     ACEPTADOS" class="inBtn" style="background-color:rgb(0, 76, 255)">
    <input type="submit" (click)="getPublicationUserFilter(user().id, 1)" name="login" value="FILTRAR PRODUCTOS
     EN REVISION" class="inBtn" style="background-color:rgb(255, 149, 0)">
    <input type="submit" (click)="getPublicationUserFilter(user().id, 3)" name="login" value="FILTAR PRODUCTOS
     REPORTADOS" class="inBtn" style="background-color:rgb(255, 68, 0)">
    <input type="submit" (click)="getPublicationUserFilter(user().id, 5)" name="login" value="FILTRAR PRODUCTOS
     RECHAZADOS" class="inBtn" style="background-color:rgb(255, 0, 0)">
    <input type="submit" (click)="getPublicationUserFilter(user().id, 4)" name="login" value="FILTRAR PRODUCTOS
     FINALIZADOS" class="inBtn" style="background-color:rgb(128, 0, 255)">
</div>
<br>
<input type="submit" routerLink="/add_publication" name="login" value="CREAR PUBLICACION" class="inBtnCreate"
    style="background-color:rgb(0, 219, 0)">
<br><br>
<table class="table">
    <thead class="thead-dark">
        <tr align="center">
            <th scope="col">TITULO</th>
            <th scope="col">U</th>
            <th scope="col">ESTADO</th>
            <th scope="col">TIPO</th>
            <th scope="col">CATEGORIA</th>
            <th scope="col">DESCRIPCION</th>
            <th scope="col">IMAGEN</th>
            <th scope="col">PRECIO UNITARIO</th>
            <th scope="col">FECHA</th>
            <th scope="col">REVISION / FINALIZACION</th>
            <th scope="col">MODIFICACION</th>
            <th scope="col">ELIMINACION</th>
        </tr>
    </thead>
    <tbody>
        @for(publication of publications; track publication){
        <tr align="center">
            <th scope="row">{{publication.title}}</th>
            <td>{{publication.quantity}}</td>
            <td>{{states[publication.id]}}</td>
            <td>{{types[publication.id]}}</td>
            <td>{{categories[publication.id]}}</td>
            <td>{{publication.description}}</td>
            <td><img class="small-flag" src="{{img + publication.image}}" width="100" height="100"></td>
            <td>{{publication.unity_price}}</td>
            <td>{{publication.date}}</td>
            @if(publication.publication_state_id == 1){
            <td>EN REVISION</td>
            }
            @else if(publication.publication_state_id == 2){
            <td><input type="submit" (click)="review(publication.id, 4, 'finalizar', 'finalizada')" name="login" value="Finalizacion"
                    class="btn btn-danger"></td>
            }
            @else if(publication.publication_state_id == 3){
            <td>REPORTADO</td>
            }
            @else if(publication.publication_state_id == 4){
            <td>FINALIZADO</td>
            }
            @else if(publication.publication_state_id == 5){
            <td><input type="submit" (click)="review(publication.id, 1, 'enviar a revision', 'enviada a revision')" name="login" value="Revision"
                    class="btn btn-info"></td>
            }
            <td><input type="submit" name="login" value="Editar" class="btn btn-warning"></td>
            <td><input type="submit" (click)="delete(publication.id)" name="login" value="Eliminar"
                    class="btn btn-danger"></td>
        </tr>
        }
    </tbody>
</table>